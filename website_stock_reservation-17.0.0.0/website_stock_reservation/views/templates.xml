<?xml version="1.0" encoding="utf-8"?>
<odoo>
		<!-- reservation page page -->
		<template id="reservation" name="Website Product Reservation Request">
			<t t-call="website.layout">
				<div class="container mb64">
					<div class="col-md-12">	
						<h3 style="text-align: center;">
							Reserve Products
						</h3>
						<div class="row">
							<!-- <t t-set="website_product" t-value="website.get_reserve_products()"/> -->
								<t t-foreach="products" t-as="product">
									<div class="col-md-3" style="border: 1px solid rgba(100, 100, 100, 0.2);padding: 0 15px 10px 32px;">
										<div class="oe_product_image">
											<a t-attf-href="/shop/product/#{slug(product)}" tabindex="-1">
												<img class="product-image-photo default_image"
													t-att-src="website.image_url(product, 'image_1920', None if product_image_big else '200x200')"
													alt="" role="img" />
											</a>
										</div>
										<div class="product details product-item-details">
											<strong class="product name product-item-name">
												<a class="product-item-link" t-attf-href="/shop/product/#{slug(product)}">
													<span t-field="product.name" />
												</a>
											</strong>
											
											<!--Price -->
											<div class="product-reviews-summary short">
												<div class="rating-summary">
													<span class="label">
														<span>Rating:</span>
													</span>
													<div class="" title="100%">
														<span> </span>
													</div>
												</div>
											</div>

											<div class="product-item-inner">
												<div class="product actions">
													<a href="#" class="action actions-secondary" title="Wish List"
														aria-label="Wish List"
														data-action="add-to-wishlist" role="button"
														style="visibility: visible;
														position: static;
														opacity: 1;
														height: 40px;
														line-height: 40px;
														top: 0;
														width: 40px;
														border: 0;
														background-color: #e6e6e6;
														color: #000; display: none;">
														<i class="fa fa-heart" aria-hidden="true"></i>
														<span>Wish List</span>
													</a>
													<div class="actions-primary" style="text-align: center;">
														<form t-attf-action="/reservation/update?sale_type=reservation" method="post">
															<input name="product_id" t-att-value="product.product_variant_ids[0].id"
																type="hidden" />
															<input type="hidden" name="csrf_token"
																t-att-value="request.csrf_token()" />

															<button type="submit" title="Add to Cart" class="btn btn-primary"
																onclick="submit();" style="background-color: #337ab7 !important; border: 1px solid white !important;">
																
																<span> Reserve</span>
															</button>
															
														</form>
													</div>
													<a href="#" class="action actions-secondary" title="Compare"
														aria-label="Compare"
														role="button"
														style="visibility: visible;
														position: static;
														opacity: 1;
														height: 40px;
														line-height: 40px;
														top: 0;
														width: 40px;
														border: 0;
														background-color: #e6e6e6;
														color: #000; display: none;">
														<i class="fa fa-signal" aria-hidden="true"></i>
														<span>Compare</span>
													</a>
												</div>
											</div>
										</div>
									</div>
								</t>
						</div>		
						<div class="products_pager form-inline justify-content-center mt-3">
                       		<t t-call="website.pager"/>
                    	</div>
						<t t-if="not products">
							<div class="text-center text-muted oe_product">
								<h3 class="css_editable_display">No reserve product defined.</h3>
								<p groups="sales_team.group_sale_manager">Click <i>'New'</i> in the top-right corner to create your first product.</p>
							</div>
						</t>	
					</div>
				</div> 
			</t>
		</template>
		
		
		<!-- Reservation Thank You page -->

		<template id="reservation_thankyou" name="Reservation Thank You">
			<t t-call="website.layout">
				<div id="wrap">
					<div class="oe_structure" />
					<div class="container">
						<h1>Thank you! <span>Order <em t-field="order.name" /> Reserved</span></h1> 
						<div class="row">
							<div class="col-md-12">
								<t t-if="order.state == 'avail'">	
								<div class="alert alert-success">
									Thanks for your reservation request. Your reservation has been confirmed, If you do not purchase your reservation in next 
									
									
									<t t-set="expiry_days" t-value="website.get_res_config_values()"/>
										<t t-foreach="expiry_days" t-as="days">
										<b t-field="days.resevation_exp_day"/>
									</t>
									
									days your reservation will be automatically cancelled
									<button type="button" class="close" data-dismiss="alert">&amp;times;
									</button>
								</div>
								</t>
								
								<t t-if="order.state == 'waiting'">
								<div class="alert alert-danger">
									Thanks for your reservation request, right now we don't have enough stock available on warehouse, once we have stock available our team will notify you.
									<button type="button" class="close" data-dismiss="alert">&amp;times;
									</button>
								</div>
								</t>
							</div>
						</div>
					</div>
					<div class="oe_structure" />
				</div>
			</t>
		</template>		
</odoo>
